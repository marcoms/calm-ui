<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Calm UI</title>
		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
		<script src="bundle.js"></script>
		<style>
			body {
				font-family: roboto, sans-serif;
				margin: 0;
				padding: calc(56px + 16px) 16px 0 16px;
				color: #212121;
			}

			calm-bar {
				background: #00bcd4;
				color: #fff;
				fill: currentColor;
			}

			.spacer {
				flex: 1;
			}

			#fs-toggle {
				position: fixed;
				bottom: 32px;
				right: 32px;
			}

			#tabs-fixed {
				width: 640px;
			}

			#content > * { display: block; margin-bottom: 16px; }
		</style>
	</head>
	<body>
		<calm-drawer id="drawer">
			<calm-bar>
				<calm-icon-btn icon="arrow-back" onclick="document.querySelector('#drawer').close()"></calm-icon-btn>
				<header>Calm UI</header>
			</calm-bar>
		</calm-drawer>

		<calm-bar class="bar-sticky">
			<calm-icon-btn icon="menu" onclick="document.querySelector('#drawer').open()"></calm-icon-btn>
			<header>Demo</header>
			<div class="spacer"></div>
			<calm-icon-btn icon="favorite"></calm-icon-btn>
			<calm-icon-btn icon="more-vert"></calm-icon-btn>
		</calm-bar>
		<section id="content">
			<calm-btn>Button</calm-btn>
			<div>
				<calm-icon-btn class="icon-btn-light-bg" icon="refresh"></calm-icon-btn>
				<calm-icon-btn class="icon-btn-light-bg" icon="reply"></calm-icon-btn>
				<calm-fab id="fs-toggle" icon="fullscreen"></calm-fab>
			</div>
			<calm-field label="Text field"></calm-field>
			<calm-field label="Floating label" class="field-floating-label"></calm-field>
			<calm-tabs tabs="item one, item two, item three" selected="item one"></calm-tabs>
			<calm-tabs id="tabs-fixed" class="tabs-fixed" tabs="short, long string of text, medium text" selected="short"></calm-tabs>
			<calm-spinner></calm-spinner>
			<calm-spinner class="spinner-small"></calm-spinner>
			<calm-progress id="progress" value="0"></calm-progress>
			<calm-progress indeterminate></calm-progress>
		</section>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/screenfull.js/2.0.0/screenfull.min.js"></script>
		<script>
			var $ = document.querySelector.bind(document), $$ = document.querySelectorAll.bind(document);

			var fsToggle = $("#fs-toggle");

			document.addEventListener(screenfull.raw.fullscreenchange, function() {
				fsToggle.icon = (screenfull.isFullscreen ? "fullscreen-exit" : "fullscreen");
			})

			fsToggle.addEventListener("click", function() {
				if(screenfull.enabled) {
					(screenfull.isFullscreen ? screenfull.exit() : screenfull.request());
				}
			});

			var progress = $("#progress");

			var value;
			var nextValue;
			var isFinished;
			window.setInterval(function() {
				value = Number.parseInt(progress.value, 10);
				nextValue = Math.min(value + (Math.random() * 32), 100);
				progress.value = (isFinished ? nextValue = 0 : nextValue);
				isFinished = nextValue === 100;
			}, 1000);
		</script>
	</body>
</html>
